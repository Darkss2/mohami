<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="نبرة جزائرية - محامي وكاتب عمومي. خدمات قانونية وإدارية شاملة في الجزائر.">
    <title>Nabra Dziriya | محامي و كاتب عمومي</title>
    
    <!-- Fonts: Cairo -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    
    <!-- Icons: FontAwesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Styling: Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
    
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: { sans: ['Cairo', 'sans-serif'] },
                    colors: {
                        brand: {
                            dark: '#0f172a',
                            primary: '#1e3a8a',
                            secondary: '#1d4ed8',
                            accent: '#d97706',
                            gold: '#fbbf24',
                            light: '#f8fafc',
                        }
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                        'float': 'float 3s ease-in-out infinite',
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0)' },
                            '50%': { transform: 'translateY(-10px)' },
                        }
                    }
                }
            }
        }
    </script>

    <style>
        ::-webkit-scrollbar { width: 8px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #1e3a8a; border-radius: 4px; }
        html { scroll-behavior: smooth; }
        .gold-gradient { background: linear-gradient(135deg, #f59e0b 0%, #fbbf24 100%); }
        .hero-bg { background-size: cover; background-position: center; background-attachment: fixed; }
        .pulse-ring { position: absolute; border: 2px solid #fbbf24; border-radius: 50%; animation: pulse-ring 2s infinite; }
        @keyframes pulse-ring { 0% { transform: scale(0.5); opacity: 0.8; } 100% { transform: scale(2.5); opacity: 0; } }
        .typing-cursor::after { content: '|'; animation: blink 1s step-end infinite; }
        @keyframes blink { from, to { opacity: 1 } 50% { opacity: 0 } }
    </style>
</head>
<body class="font-sans bg-brand-light text-gray-800 antialiased flex flex-col min-h-screen overflow-x-hidden">

    <!-- Top Bar -->
    <div class="bg-brand-dark text-white py-2 text-xs">
        <div class="container mx-auto px-4 flex justify-between items-center">
            <span class="opacity-80"><i class="fa-solid fa-check-circle text-green-400"></i> متاحون للاستشارات الآن</span>
            <a href="/admin/" class="flex items-center gap-1 opacity-50 hover:opacity-100 transition">
                <i class="fa-solid fa-lock"></i> دخول الإدارة
            </a>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="bg-white/95 backdrop-blur-md shadow-sm sticky top-0 z-50 border-b border-gray-100">
        <div class="container mx-auto px-4 py-3 flex justify-between items-center">
            <a href="#home" class="flex items-center gap-3 group">
                <div class="w-10 h-10 gold-gradient text-white rounded-lg flex items-center justify-center text-xl shadow-lg transition duration-500 group-hover:rotate-12">
                    <i class="fa-solid fa-scale-balanced"></i>
                </div>
                <div>
                    <h1 class="text-xl font-bold text-brand-primary leading-none">نبرة جزائرية</h1>
                </div>
            </a>
            <div id="desktop-menu" class="hidden md:flex gap-8 items-center">
                <a href="#home" class="font-bold hover:text-brand-primary">الرئيسية</a>
                <a href="#about" class="font-bold hover:text-brand-primary">من نحن</a>
                <a href="products.html" class="font-bold hover:text-brand-primary">الخدمات والأسعار</a>
                <a href="#contact" class="font-bold hover:text-brand-primary">اتصل بنا</a>
                <a href="products.html" class="gold-gradient text-brand-dark px-4 py-2 rounded-lg font-bold shadow hover:scale-105 transition">اطلب خدمة</a>
            </div>
            <button id="mobile-menu-btn" class="md:hidden text-brand-primary text-2xl w-10 h-10 flex items-center justify-center"><i class="fa-solid fa-bars-staggered"></i></button>
        </div>
    </nav>

    <!-- Mobile Menu Overlay -->
    <div id="mobile-menu" class="fixed inset-0 bg-brand-dark/50 backdrop-blur-sm z-[60] hidden opacity-0 transition-opacity duration-300">
        <div class="bg-white w-3/4 h-full mr-auto p-6 flex flex-col gap-4 shadow-2xl">
            <div class="mt-12 flex flex-col gap-4 text-center">
                <a href="products.html" class="p-4 bg-brand-primary text-white rounded-xl font-bold">الخدمات والأسعار</a>
                <a href="#home" class="p-4 bg-gray-50 rounded-xl font-bold" onclick="toggleMenu()">الرئيسية</a>
                <a href="#contact" class="p-4 bg-gray-50 rounded-xl font-bold" onclick="toggleMenu()">اتصل بنا</a>
            </div>
        </div>
    </div>

    <main id="app" class="flex-grow">
        <!-- HERO -->
        <section id="home" class="hero-bg relative min-h-[90vh] flex items-center justify-center text-center overflow-hidden">
            <div class="absolute inset-0 bg-brand-primary/80 mix-blend-multiply"></div>
            <div class="container mx-auto px-4 relative z-10">
                <div class="inline-flex items-center gap-2 px-4 py-2 rounded-full bg-white/10 backdrop-blur border border-white/20 mb-8">
                    <span class="relative flex h-3 w-3">
                      <span class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"></span>
                      <span class="relative inline-flex rounded-full h-3 w-3 bg-green-500"></span>
                    </span>
                    <span class="text-sm font-medium text-white/90">استشارات فورية عن بعد</span>
                </div>
                <h1 class="text-4xl md:text-7xl font-extrabold text-white mb-6 leading-tight drop-shadow-2xl" id="hero-title">الحماية القانونية التي تستحقها</h1>
                <p class="text-xl md:text-2xl text-blue-50 mb-10 max-w-2xl mx-auto opacity-90 typing-cursor" id="typewriter-text"></p>
                <div class="flex flex-col sm:flex-row justify-center gap-4">
                    <a href="#contact" class="gold-gradient text-brand-dark font-bold py-4 px-10 rounded-xl shadow-xl hover:scale-105 transition transform flex items-center justify-center gap-2 text-lg">تواصل مجاناً <i class="fa-solid fa-arrow-left"></i></a>
                    <a href="products.html" class="bg-white/10 backdrop-blur text-white border border-white/30 font-bold py-4 px-10 rounded-xl hover:bg-white/20 transition transform text-lg">خدماتنا الإلكترونية</a>
                </div>
            </div>
            <!-- Curve SVG -->
            <div class="absolute bottom-0 left-0 w-full overflow-hidden leading-none transform scale-y-[-1]">
                <svg viewBox="0 0 1200 120" preserveAspectRatio="none" class="relative block w-full h-16 fill-brand-light"><path d="M321.39,56.44c58-10.79,114.16-30.13,172-41.86,82.39-16.72,168.19-17.73,250.45-.39C823.78,31,906.67,72,985.66,92.83c70.05,18.48,146.53,26.09,214.34,3V0H0V27.35A600.21,600.21,0,0,0,321.39,56.44Z"></path></svg>
            </div>
        </section>

        <!-- FEATURED SERVICES (Dynamic) -->
        <section class="py-20 bg-brand-light">
            <div class="container mx-auto px-4">
                <div class="text-center mb-12">
                    <h2 class="text-3xl font-black text-brand-dark">خدماتنا المميزة</h2>
                    <p class="text-gray-500">اطلبها مباشرة عبر الموقع</p>
                </div>
                <div id="featured-grid" class="grid grid-cols-1 md:grid-cols-3 gap-8">
                    <!-- Loaded via JS -->
                    <div class="col-span-3 text-center"><i class="fa-solid fa-spinner fa-spin"></i></div>
                </div>
                <div class="text-center mt-10">
                    <a href="products.html" class="inline-block border-2 border-brand-primary text-brand-primary font-bold py-3 px-8 rounded-full hover:bg-brand-primary hover:text-white transition">عرض كل الخدمات</a>
                </div>
            </div>
        </section>

        <!-- ABOUT SECTION -->
        <section id="about" class="py-24 bg-white relative overflow-hidden">
            <div class="container mx-auto px-4">
                 <div class="flex flex-col lg:flex-row items-center gap-16">
                    <div class="lg:w-1/2 relative">
                        <div class="relative rounded-[2rem] overflow-hidden shadow-2xl">
                            <img src="https://images.unsplash.com/photo-1556761175-5973dc0f32e7?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80" alt="Team" class="w-full">
                        </div>
                    </div>
                    <div class="lg:w-1/2">
                        <h2 class="text-3xl md:text-5xl font-black text-brand-dark mb-6">شريكك القانوني الأمثل</h2>
                        <p class="text-gray-600 text-lg leading-relaxed mb-8">نجمع بين الخبرة القانونية العميقة والحلول الرقمية الحديثة. نوفر لك الوقت والجهد من خلال خدماتنا الإلكترونية.</p>
                        <div class="grid grid-cols-2 gap-4">
                            <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                                <i class="fa-solid fa-shield-halved text-brand-accent text-2xl mb-2"></i>
                                <div class="font-bold">حماية قانونية</div>
                            </div>
                            <div class="bg-gray-50 p-4 rounded-xl border border-gray-100">
                                <i class="fa-solid fa-laptop-file text-brand-accent text-2xl mb-2"></i>
                                <div class="font-bold">خدمات عن بعد</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- CONTACT & MAP -->
        <section class="w-full h-[400px] bg-gray-200">
            <iframe src="https://maps.google.com/maps?q=Algiers%20Algeria&t=&z=13&ie=UTF8&iwloc=&output=embed" width="100%" height="100%" style="border:0;" allowfullscreen="" loading="lazy"></iframe>
        </section>

        <section id="contact" class="py-20 bg-brand-dark text-white relative">
            <div class="container mx-auto px-4">
                <div class="max-w-4xl mx-auto text-center">
                    <h2 class="text-4xl font-bold mb-8">تواصل معنا الآن</h2>
                    <div class="grid grid-cols-1 md:grid-cols-3 gap-8 text-center">
                        <div class="bg-white/10 p-8 rounded-2xl backdrop-blur-sm hover:bg-white/20 transition">
                            <i class="fa-brands fa-whatsapp text-4xl text-green-400 mb-4"></i>
                            <h3 class="font-bold text-xl mb-2">واتساب</h3>
                            <p class="text-gray-300 dir-ltr" id="contact-wa">...</p>
                        </div>
                        <div class="bg-white/10 p-8 rounded-2xl backdrop-blur-sm hover:bg-white/20 transition">
                            <i class="fa-solid fa-phone text-4xl text-brand-gold mb-4"></i>
                            <h3 class="font-bold text-xl mb-2">الهاتف</h3>
                            <p class="text-gray-300">0562633460</p>
                        </div>
                        <div class="bg-white/10 p-8 rounded-2xl backdrop-blur-sm hover:bg-white/20 transition">
                            <i class="fa-solid fa-envelope text-4xl text-blue-400 mb-4"></i>
                            <h3 class="font-bold text-xl mb-2">البريد الإلكتروني</h3>
                            <p class="text-gray-300 text-sm">nabradziriya@gmail.com</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer class="bg-black text-white/50 py-8 text-center text-sm">
        <div class="container mx-auto px-4">
            &copy; 2025 نبرة جزائرية. جميع الحقوق محفوظة.
        </div>
    </footer>

    <!-- FAB WHATSAPP -->
    <a id="wa-fab" href="#" target="_blank" class="fixed bottom-6 left-6 z-[100] w-16 h-16 bg-[#25D366] text-white rounded-full shadow-2xl flex items-center justify-center text-3xl transition duration-300 hover:scale-110 active:scale-90">
        <div class="pulse-ring"></div>
        <i class="fa-brands fa-whatsapp relative z-10"></i>
    </a>

    <script>
        function toggleMenu() {
            const m = document.getElementById('mobile-menu');
            if(m.classList.contains('hidden')) {
                m.classList.remove('hidden');
                setTimeout(() => m.classList.add('opacity-100'), 10);
            } else {
                m.classList.remove('opacity-100');
                setTimeout(() => m.classList.add('hidden'), 300);
            }
        }
        document.getElementById('mobile-menu-btn').onclick = toggleMenu;

        // FETCH CONTENT
        Promise.all([
            fetch('/content/site.json').then(r => r.json()),
            fetch('/content/settings.json').then(r => r.json()),
            fetch('/content/products.json').then(r => r.json())
        ]).then(([siteData, settingsData, productData]) => {
            
            // 1. Update Hero
            if(siteData.hero_title) document.getElementById('hero-title').textContent = siteData.hero_title;
            if(siteData.hero_image) document.getElementById('home').style.backgroundImage = `url(${siteData.hero_image})`;
            
            // Typewriter
            const text = siteData.hero_text || "خدمات قانونية وإدارية متميزة";
            const target = document.getElementById('typewriter-text');
            let i = 0;
            function type() {
                if (i < text.length) {
                    target.textContent += text.charAt(i);
                    i++;
                    setTimeout(type, 50);
                } else target.classList.remove('typing-cursor');
            }
            type();

            // 2. Update Contact Info based on Settings
            const waNumber = settingsData.whatsapp_number || "213793726558";
            document.getElementById('contact-wa').textContent = waNumber;
            document.getElementById('wa-fab').href = `https://wa.me/${waNumber}?text=أريد استفساراً من الموقع`;

            // 3. Featured Products
            const featuredContainer = document.getElementById('featured-grid');
            const featured = productData.items.filter(p => p.featured).slice(0, 3);
            
            if(featured.length > 0) {
                featuredContainer.innerHTML = featured.map(p => `
                    <div class="bg-white p-8 rounded-[2rem] shadow-sm hover:shadow-xl transition group border border-gray-100">
                        <div class="h-40 mb-6 rounded-2xl overflow-hidden">
                            <img src="${p.image}" class="w-full h-full object-cover group-hover:scale-110 transition duration-500">
                        </div>
                        <h3 class="text-xl font-black text-brand-dark mb-2">${p.title}</h3>
                        <p class="text-gray-500 mb-4 line-clamp-2">${p.description}</p>
                        <div class="flex justify-between items-center">
                            <span class="text-brand-primary font-bold text-lg">${p.price} د.ج</span>
                            <a href="products.html" class="w-10 h-10 rounded-full bg-gray-100 flex items-center justify-center text-brand-dark hover:bg-brand-gold transition"><i class="fa-solid fa-arrow-left"></i></a>
                        </div>
                    </div>
                `).join('');
            } else {
                featuredContainer.innerHTML = '<p class="col-span-3 text-center text-gray-400">لا توجد خدمات مميزة حالياً</p>';
            }

        }).catch(err => console.error("Error loading content:", err));
    </script>
</body>
</html>
